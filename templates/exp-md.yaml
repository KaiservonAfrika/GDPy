dataset: /mnt/scratch2/users/40247882/pbe-oxides/PrecSet
type_list: ["C", "O", "Pt"] # this creates type_map
systems:
  surf22: # TODO: change this to a structure generator (that is used by GA)
    structure: /mnt/scratch2/users/40247882/pbe-oxides/init-systems/surface/Pt111s22-COtop.xyz
    composition: {"C": 1, "O": 1, "Pt": 16}
    kpts: [6, 6, 1]
explorations:
  nvt-metals:
    systems: ["surf22"]
    dynamics: #[./pot-eann.yaml, dyn1] # find a dynamics named dyn1 in ./pot-eann.yaml
      backend: lammps
      method: md # md
      md_style: nvt
      Tdamp: 100 # fs
      temp: [300, 600, 1500]
      timestep: 2 # fs
      steps: 176
      dump_period: 8
    selection: # list of selection procedures
      - method: deviation # selection based on model deviation
        properties: # store in atoms.info
          atomic_energy: max_devi_e
          force: max_devi_f
        criteria:
          atomic_energy: [0.01, 0.25]
          force: [null, null]
      - method: descriptor
        descriptor: 
          name: soap
          species: ["C", "O", "Pt"]
          rcut : 6.0
          nmax : 12
          lmax : 8
          sigma : 0.3
          average : inner
          periodic : true
        criteria:
          method: cur
          zeta: -1
          strategy: descent
          number: 16 # TODO: auto? percent?
    calculation:
      name: vasp
      # vasp_params
      pp_path: /mnt/scratch2/chemistry-apps/dkb01416/vasp/PseudoPotential
      vdw_path: /mnt/scratch2/chemistry-apps/dkb01416/vasp/PseudoPotential
      incar: /mnt/scratch2/users/40247882/pbe-oxides/input-files/incars/INCAR_OXIDE_MAG
      kpts: system # [6, 6, 1]
      command: mpirun -n 32 /mnt/scratch2/chemistry-apps/dkb01416/vasp/installed/intel-2016/5.4.4-ccc/vasp_std 2>&1 > vasp.out
      machine: # NOTE: can be replaced by a script file
        partition: k2-medpri
        time: "24:00:00"
        environs: "conda activate catorch2"
